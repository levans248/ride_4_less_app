<div class="ride_info">
  <%= form_tag '/ride_details', method: :post do %>
    <div>
      <%= text_field_tag :origin, "Pickup Location", :class=>"address_details" %>    
    </div>
    <div>
      <%= text_field_tag :destination, "Dropoff Location", :class=>"address_details" %>    
    </div>
      <%= submit_tag "GET RIDE INFO", :id=>"request-info" %>
  <% end %>
</div>


<p id= "uber_map_title">Uber:</p>
<p id= "transit_map_title">Public Transit:</p>


<div id = "uber_map" style = "width:400px; height:580px;"></div>

<script type="text/javascript" 
          src="http://maps.google.com/maps/api/js?sensor=false"></script>

<script  type="text/javascript">
  var directionsService = new google.maps.DirectionsService;
  var directionsDisplay = new google.maps.DirectionsRenderer;
  var map = new google.maps.Map(document.getElementById('uber_map'), {
    zoom: 7,
    mapTypeId: google.maps.MapTypeId.ROADMAP
  });
  directionsDisplay.setMap(map)

  var request = {
    origin: {lat: <%=@origin[0]%>, lng: <%=@origin[1]%>}, 
    destination: {lat: <%=@destination[0]%>, lng: <%=@destination[1]%>},
    travelMode: google.maps.TravelMode.DRIVING
  };

  directionsService.route(request, function(response, status) {
    if (status == google.maps.DirectionsStatus.OK) {
      directionsDisplay.setDirections(response);
    }
  });   
</script>


   















 

 